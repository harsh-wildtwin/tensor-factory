---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";

const role = Astro.url.searchParams.get('role') || 'General application';
const subject = encodeURIComponent(`Application: ${role}`);
const body = encodeURIComponent(`Hello Tensor Factory team,%0D%0A%0D%0AI'd like to apply for: ${role}.%0D%0A%0D%0AName:%0D%0AEmail:%0D%0ALocation:%0D%0ALinks (CV/Portfolio):%0D%0A%0D%0ARegards,%0D%0A`);
const mailto = `mailto:hello@tensorfactory.net?subject=${subject}&body=${body}`;
---
<BaseLayout title="Application sent â€“ Tensor Factory" description="Thank you for your interest.">
  <Fragment slot="header"><Header /></Fragment>

  <section class="section">
    <div class="container stack">
      <h1>Thank you</h1>
      <p>Your email client should open automatically. If not, use the button below.</p>
      <p style="color:var(--color-text-muted)">Role: {role}</p>
      <div class="cluster">
        <a href={mailto} class="btn btn-primary">Open email</a>
        <a href="/careers" class="btn btn-secondary">Back to Careers</a>
      </div>
    </div>
  </section>

  <Fragment slot="footer"><Footer /></Fragment>
</BaseLayout>


